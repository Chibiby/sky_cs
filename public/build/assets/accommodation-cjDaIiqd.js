import{r as x,U as je,j as e,L as ve,S as I}from"./app-UEX2vF-v.js";import{A as ge,C as L,d as q}from"./app-layout-B9ez7mmX.js";import{C as _e,c as ye}from"./card-Bqio-jOF.js";import{I as f}from"./input-Cm9KTmFX.js";import{C as V,S as p,a as m,b as j,c as v,d as t}from"./select-D6XMwjn6.js";import{c as Ne,B as N}from"./button-D8mT6hG0.js";import{C as fe,a as Se,F as be,b as Ce,T as X}from"./textarea-BpCE060G.js";import{B as k,T as ke}from"./badge-CyiSEvZB.js";import{D as J,a as K,b as Z,c as ee,d as se}from"./dialog-CHfIz46a.js";import{L as o}from"./label-CisHngjv.js";import{S as we,a as Ae}from"./square-pen-BAB7cBZR.js";import{P as Te}from"./plus-DJk4cDC8.js";import"./index-BVB0vcGq.js";import"./index-B7oQHXnP.js";import"./index-DYcKATcv.js";import"./index-BQlWczXX.js";import"./app-logo-icon-DMFLlZgW.js";import"./index-CliozYHi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Oe=Ne("Sparkles",Fe),De=1,Pe=1e6;let M=0;function Ee(){return M=(M+1)%Number.MAX_VALUE,M.toString()}const B=new Map,Q=i=>{if(B.has(i))return;const l=setTimeout(()=>{B.delete(i),w({type:"REMOVE_TOAST",toastId:i})},Pe);B.set(i,l)},Re=(i,l)=>{switch(l.type){case"ADD_TOAST":return{...i,toasts:[l.toast,...i.toasts].slice(0,De)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(c=>c.id===l.toast.id?{...c,...l.toast}:c)};case"DISMISS_TOAST":{const{toastId:c}=l;return c?Q(c):i.toasts.forEach(h=>{Q(h.id)}),{...i,toasts:i.toasts.map(h=>h.id===c||c===void 0?{...h,open:!1}:h)}}case"REMOVE_TOAST":return l.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==l.toastId)}}},D=[];let P={toasts:[]};function w(i){P=Re(P,i),D.forEach(l=>{l(P)})}function Ie({...i}){const l=Ee(),c=n=>w({type:"UPDATE_TOAST",toast:{...n,id:l}}),h=()=>w({type:"DISMISS_TOAST",toastId:l});return w({type:"ADD_TOAST",toast:{...i,id:l,open:!0,onOpenChange:n=>{n||h()}}}),{id:l,dismiss:h,update:c}}function Le(){const[i,l]=x.useState(P);return x.useEffect(()=>(D.push(l),()=>{const c=D.indexOf(l);c>-1&&D.splice(c,1)}),[i]),{...i,toast:Ie,dismiss:c=>w({type:"DISMISS_TOAST",toastId:c})}}function Ve({room:i,isOpen:l,onClose:c,onSave:h}){const[n,u]=x.useState({name:i.name,type:i.type,description:i.description,max_occupancy:i.max_occupancy,base_price:i.base_price,extra_person_fee:i.extra_person_fee,location:i.location,is_active:i.is_active,is_occupied:i.is_occupied,housekeeping_status:i.housekeeping_status}),A=()=>{h(i.id,n),c()};return e.jsx(J,{open:l,onOpenChange:c,children:e.jsxs(K,{className:"sm:max-w-[500px]",children:[e.jsx(Z,{children:e.jsxs(ee,{children:["Edit ",i.name]})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-name",children:"Room Name"}),e.jsx(f,{id:"edit-name",value:n.name,onChange:d=>u({...n,name:d.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-type",children:"Room Type"}),e.jsxs(p,{value:n.type,onValueChange:d=>u({...n,type:d}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(t,{value:"villa",children:"Villa"}),e.jsx(t,{value:"cottage",children:"Cottage"}),e.jsx(t,{value:"cabin",children:"Cabin"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-description",children:"Description"}),e.jsx(X,{id:"edit-description",value:n.description,onChange:d=>u({...n,description:d.target.value}),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-max-occupancy",children:"Max Occupancy"}),e.jsx(f,{id:"edit-max-occupancy",type:"number",min:"1",value:n.max_occupancy,onChange:d=>u({...n,max_occupancy:parseInt(d.target.value)||1})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-location",children:"Location"}),e.jsxs(p,{value:n.location,onValueChange:d=>u({...n,location:d}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select location"})}),e.jsxs(v,{children:[e.jsx(t,{value:"South Pool Side",children:"South Pool Side"}),e.jsx(t,{value:"North Pool Side",children:"North Pool Side"}),e.jsx(t,{value:"East Pool Side",children:"East Pool Side"}),e.jsx(t,{value:"West Pool Side",children:"West Pool Side"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-base-price",children:"Base Price (₱)"}),e.jsx(f,{id:"edit-base-price",type:"number",min:"0",step:"100",value:n.base_price,onChange:d=>u({...n,base_price:parseFloat(d.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-extra-person-fee",children:"Extra Person Fee (₱)"}),e.jsx(f,{id:"edit-extra-person-fee",type:"number",min:"0",step:"10",value:n.extra_person_fee,onChange:d=>u({...n,extra_person_fee:parseFloat(d.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-is-active",children:"Active Status"}),e.jsxs(p,{value:n.is_active?"active":"inactive",onValueChange:d=>u({...n,is_active:d==="active"}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-is-occupied",children:"Occupied Status"}),e.jsxs(p,{value:n.is_occupied?"yes":"no",onValueChange:d=>u({...n,is_occupied:d==="yes"}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select occupancy"})}),e.jsxs(v,{children:[e.jsx(t,{value:"no",children:"No"}),e.jsx(t,{value:"yes",children:"Yes"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"edit-housekeeping-status",children:"Housekeeping Status"}),e.jsxs(p,{value:n.housekeeping_status,onValueChange:d=>u({...n,housekeeping_status:d}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"clean",children:"Clean"}),e.jsx(t,{value:"dirty",children:"Dirty"}),e.jsx(t,{value:"cleaning",children:"Cleaning"}),e.jsx(t,{value:"inspection",children:"Inspection"})]})]})]})]})]}),e.jsxs(se,{children:[e.jsx(N,{variant:"outline",onClick:c,children:"Cancel"}),e.jsx(N,{onClick:A,children:"Save Changes"})]})]})})}function is({accommodations:i,flash:l}){const{toast:c}=Le(),[h,n]=x.useState(""),[u,A]=x.useState("all"),[d,Me]=x.useState("all"),[S,$]=x.useState("all"),[b,z]=x.useState("all"),[C,H]=x.useState("all"),[U,ae]=x.useState(!1),[G,E]=x.useState(null),[R,te]=x.useState({}),[ie,T]=x.useState(!1),[r,y]=x.useState({name:"",type:"villa",description:"",max_occupancy:4,base_price:1e3,extra_person_fee:100,location:"South Pool Side",amenities:[],is_active:!0,is_occupied:!1,housekeeping_status:"clean"});je.useEffect(()=>{l!=null&&l.success&&c({description:l.success})},[l==null?void 0:l.success]);const ce=s=>{if(!i||i.length===0)return 1;const a=i.filter(_=>_.type===s);if(a.length===0)return 1;const g=a.map(_=>{const O=_.name.match(/\d+$/);return O?parseInt(O[0]):0});return Math.max(...g)+1},le=s=>i?!i.some(a=>a.name.toLowerCase()===s.toLowerCase()):!0,ne=s=>{const a=ce(s),_=`${s.charAt(0).toUpperCase()+s.slice(1)} ${a}`;y({...r,type:s,name:_})},re=i==null?void 0:i.filter(s=>{const a=s.name.toLowerCase().includes(h.toLowerCase())||s.description.toLowerCase().includes(h.toLowerCase()),g=u==="all"||s.type.toLowerCase()===u,_=S==="all"||S==="active"&&s.is_active||S==="inactive"&&!s.is_active,O=b==="all"||b==="yes"&&s.is_occupied||b==="no"&&!s.is_occupied,me=C==="all"||s.housekeeping_status===C;return a&&g&&_&&O&&me}),W=[u!=="all"&&`Type: ${u}`,S!=="all"&&`Status: ${S}`,b!=="all"&&`Occupied: ${b}`,C!=="all"&&`Housekeeping: ${C}`].filter(Boolean),F=s=>new Date(s).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),Y=s=>{const[a,g]=s.split(":"),_=new Date;return _.setHours(parseInt(a),parseInt(g)),_.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},de=s=>{E(s)},oe=()=>{E(null)},ue=(s,a)=>{const g={name:a.name,type:a.type,description:a.description,max_occupancy:a.max_occupancy,base_price:a.base_price,extra_person_fee:a.extra_person_fee,location:a.location,is_active:a.is_active,is_occupied:a.is_occupied,housekeeping_status:a.housekeeping_status};I.put(`/accommodations/${s}`,g,{preserveScroll:!0,onSuccess:()=>{E(null),c({description:"Room updated successfully"})},onError:_=>{console.error(_),c({description:"Failed to update room",variant:"destructive"})}})},he=(s,a)=>{s.stopPropagation(),confirm("Are you sure you want to delete this room?")&&I.delete(`/accommodations/${a}`,{preserveScroll:!0,onSuccess:()=>{c({description:"Room deleted successfully"})},onError:()=>{c({description:"Failed to delete room",variant:"destructive"})}})},xe=()=>{if(!le(r.name)){c({description:"A room with this name already exists. Please choose a different name.",variant:"destructive"});return}console.log("Submitting new room data:",r),I.post("/accommodations",r,{preserveScroll:!0,onSuccess:()=>{T(!1),c({description:"Room added successfully"}),y({name:"",type:"villa",description:"",max_occupancy:4,base_price:1e3,extra_person_fee:100,location:"South Pool Side",amenities:[],is_active:!0,is_occupied:!1,housekeeping_status:"clean"})},onError:s=>{console.error(s),c({description:"Failed to add room",variant:"destructive"})}})},pe=(s,a)=>{s.stopPropagation(),te(g=>({...g,[a]:!g[a]}))};return e.jsxs(ge,{breadcrumbs:[{title:"Accommodation",href:"/reservations/accommodation"}],children:[e.jsx(ve,{title:"Accommodation"}),e.jsxs("div",{className:"container mx-auto p-6 select-none",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-semibold",children:"Accommodation"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage room and cottage availability status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(f,{type:"search",placeholder:"Search accommodations...",className:"md:w-[300px] pl-9",value:h,onChange:s=>n(s.target.value)})]}),e.jsxs(N,{variant:"outline",className:"gap-2",onClick:()=>T(!0),children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Room"})]}),e.jsxs(fe,{open:U,onOpenChange:ae,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(N,{variant:"outline",className:"gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:"Filter"}),e.jsx(V,{className:`h-4 w-4 transition-transform ${U?"rotate-180":""}`})]})}),e.jsx(Ce,{className:"absolute z-10 right-6 mt-2 w-[280px] bg-white dark:bg-gray-800 shadow-lg rounded-md p-4 border",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Room Type"}),e.jsxs(p,{value:u,onValueChange:A,children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(t,{value:"all",children:"All Types"}),e.jsx(t,{value:"villa",children:"Villa"}),e.jsx(t,{value:"cottage",children:"Cottage"}),e.jsx(t,{value:"cabin",children:"Cabin"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Active Status"}),e.jsxs(p,{value:S,onValueChange:$,children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Occupied Status"}),e.jsxs(p,{value:b,onValueChange:z,children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select occupancy"})}),e.jsxs(v,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"yes",children:"Occupied"}),e.jsx(t,{value:"no",children:"Not Occupied"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Housekeeping Status"}),e.jsxs(p,{value:C,onValueChange:H,children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select housekeeping status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"clean",children:"Clean"}),e.jsx(t,{value:"dirty",children:"Dirty"}),e.jsx(t,{value:"cleaning",children:"Cleaning"}),e.jsx(t,{value:"inspection",children:"Inspection"})]})]})]}),W.length>0&&e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.map((s,a)=>e.jsx(k,{variant:"secondary",className:"rounded-full",children:s},a)),e.jsx(N,{variant:"ghost",size:"sm",className:"text-xs h-auto p-1",onClick:()=>{A("all"),$("all"),z("all"),H("all")},children:"Clear all"})]})})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:re.map(s=>e.jsxs(_e,{className:"hover:bg-accent/50 transition-colors cursor-pointer relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-white/80 hover:bg-white dark:bg-gray-800/80 dark:hover:bg-gray-800 rounded-full",onClick:()=>de(s),title:"Edit Room",children:e.jsx(Ae,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),e.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-white/80 hover:bg-white hover:text-red-600 dark:bg-gray-800/80 dark:hover:bg-gray-800 rounded-full",onClick:a=>he(a,s.id),title:"Delete Room",children:e.jsx(ke,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),e.jsx(ye,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:s.type}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.location})]})]})}),e.jsx("div",{className:"space-y-1 text-sm border-l-2 border-blue-500 pl-3 mt-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status: "}),e.jsx(k,{variant:"outline",className:s.is_active?"border-green-500 text-green-600":"border-red-500 text-red-600",children:s.is_active?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Occupied: "}),e.jsx(k,{variant:"outline",className:s.is_occupied?"border-red-500 text-red-600":"border-green-500 text-green-600",children:s.is_occupied?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Housekeeping: "}),e.jsxs(k,{variant:"outline",className:s.housekeeping_status==="clean"?"border-green-500 text-green-600":s.housekeeping_status==="dirty"?"border-red-500 text-red-600":s.housekeeping_status==="cleaning"?"border-blue-500 text-blue-600":"border-yellow-500 text-yellow-600",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),s.housekeeping_status.charAt(0).toUpperCase()+s.housekeeping_status.slice(1)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Max Occupancy: "}),e.jsxs("span",{className:"text-foreground",children:[s.max_occupancy," ",s.max_occupancy>1?"Guests":"Guest"]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-muted-foreground",children:["Base Price: ",e.jsxs("span",{className:"text-foreground",children:["₱",s.base_price]})]}),e.jsxs("div",{className:"text-muted-foreground",children:["Extra Person: ",e.jsxs("span",{className:"text-foreground",children:["₱",s.extra_person_fee]})]})]}),s.all_reservations&&s.all_reservations.length>0&&e.jsx(N,{variant:"ghost",size:"sm",onClick:a=>pe(a,s.id),className:"ml-auto",children:R[s.id]?e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-1"}),"Hide Bookings"]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-1 transform -rotate-90"}),"Show Bookings ",s.all_reservations.length>0?`(${s.all_reservations.length})`:""]})})]}),s.all_reservations&&s.all_reservations.length>0&&R[s.id]&&e.jsx("div",{className:"space-y-3",children:s.all_reservations.map((a,g)=>e.jsxs("div",{className:`space-y-1 text-sm border-l-2 pl-3 ${s.current_reservation&&s.current_reservation.check_in===a.check_in&&s.current_reservation.check_out===a.check_out?"border-red-500":"border-yellow-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:`font-medium ${s.current_reservation&&s.current_reservation.check_in===a.check_in&&s.current_reservation.check_out===a.check_out?"text-red-600":"text-yellow-600"}`,children:s.current_reservation&&s.current_reservation.check_in===a.check_in&&s.current_reservation.check_out===a.check_out?"Current Booking":"Upcoming Booking"}),e.jsx(k,{variant:"outline",className:a.status==="confirmed"?"border-green-500 text-green-600":a.status==="arrival"?"border-blue-500 text-blue-600":"border-yellow-500 text-yellow-600",children:a.status==="confirmed"?"Confirmed":a.status==="arrival"?"Arriving":"Pending"})]}),e.jsxs("p",{children:["Guest: ",a.guest_name]}),s.current_reservation&&s.current_reservation.check_in===a.check_in&&s.current_reservation.check_out===a.check_out?e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-1",children:[e.jsxs("div",{className:"border rounded-md p-2",children:[e.jsx("div",{className:"font-medium mb-1",children:"Check-in"}),e.jsxs("div",{className:"flex flex-col text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsx("span",{children:F(a.check_in)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),e.jsx("span",{children:Y(s.check_in.time)})]})]})]}),e.jsxs("div",{className:"border rounded-md p-2",children:[e.jsx("div",{className:"font-medium mb-1",children:"Check-out"}),e.jsxs("div",{className:"flex flex-col text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsx("span",{children:F(a.check_out)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),e.jsx("span",{children:Y(s.check_out.time)})]})]})]})]}):e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsxs("span",{children:[F(a.check_in)," - ",F(a.check_out)]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Number of Guests: ",a.number_of_guests]})})]},g))}),s.all_reservations&&s.all_reservations.length>0&&!R[s.id]&&e.jsxs("div",{className:"text-sm text-muted-foreground italic",children:[s.all_reservations.length," booking",s.all_reservations.length>1?"s":""," ",s.is_occupied?"(Currently occupied)":""]})]})})]},s.id))})]})]}),G&&e.jsx(Ve,{room:G,isOpen:!0,onClose:oe,onSave:ue}),e.jsx(J,{open:ie,onOpenChange:T,children:e.jsxs(K,{className:"sm:max-w-[500px]",children:[e.jsx(Z,{children:e.jsx(ee,{children:"Add New Room"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"type",children:"Room Type"}),e.jsxs(p,{value:r.type,onValueChange:s=>ne(s),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(t,{value:"villa",children:"Villa"}),e.jsx(t,{value:"cottage",children:"Cottage"}),e.jsx(t,{value:"cabin",children:"Cabin"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Room Name"}),e.jsx(f,{id:"name",value:r.name,onChange:s=>y({...r,name:s.target.value}),placeholder:"e.g., Villa 6"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(X,{id:"description",value:r.description,onChange:s=>y({...r,description:s.target.value}),placeholder:"Room description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"max_occupancy",children:"Max Occupancy"}),e.jsx(f,{id:"max_occupancy",type:"number",min:"1",value:r.max_occupancy,onChange:s=>y({...r,max_occupancy:parseInt(s.target.value)||1})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"location",children:"Location"}),e.jsxs(p,{value:r.location,onValueChange:s=>y({...r,location:s}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select location"})}),e.jsxs(v,{children:[e.jsx(t,{value:"South Pool Side",children:"South Pool Side"}),e.jsx(t,{value:"North Pool Side",children:"North Pool Side"}),e.jsx(t,{value:"East Pool Side",children:"East Pool Side"}),e.jsx(t,{value:"West Pool Side",children:"West Pool Side"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"base_price",children:"Base Price (₱)"}),e.jsx(f,{id:"base_price",type:"number",min:"0",step:"100",value:r.base_price,onChange:s=>y({...r,base_price:parseFloat(s.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"extra_person_fee",children:"Extra Person Fee (₱)"}),e.jsx(f,{id:"extra_person_fee",type:"number",min:"0",step:"10",value:r.extra_person_fee,onChange:s=>y({...r,extra_person_fee:parseFloat(s.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"is_active",children:"Active Status"}),e.jsxs(p,{value:r.is_active?"active":"inactive",onValueChange:s=>y({...r,is_active:s==="active"}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"is_occupied",children:"Occupied Status"}),e.jsxs(p,{value:r.is_occupied?"yes":"no",onValueChange:s=>y({...r,is_occupied:s==="yes"}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select occupancy"})}),e.jsxs(v,{children:[e.jsx(t,{value:"no",children:"No"}),e.jsx(t,{value:"yes",children:"Yes"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"housekeeping_status",children:"Housekeeping Status"}),e.jsxs(p,{value:r.housekeeping_status,onValueChange:s=>y({...r,housekeeping_status:s}),children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select status"})}),e.jsxs(v,{children:[e.jsx(t,{value:"clean",children:"Clean"}),e.jsx(t,{value:"dirty",children:"Dirty"}),e.jsx(t,{value:"cleaning",children:"Cleaning"}),e.jsx(t,{value:"inspection",children:"Inspection"})]})]})]})]})]}),e.jsxs(se,{children:[e.jsx(N,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),e.jsx(N,{onClick:xe,children:"Add Room"})]})]})})]})]})}export{is as default};
