import{m as j,r as u,j as e,L as h}from"./app-UEX2vF-v.js";import{A as f}from"./app-layout-B9ez7mmX.js";import{B as v}from"./button-D8mT6hG0.js";import{C as g,a as _,d as N,c as w}from"./card-Bqio-jOF.js";import{I as o}from"./input-Cm9KTmFX.js";import{L as n}from"./label-CisHngjv.js";import{S as y,a as C,b as S,c as b,d as m}from"./select-D6XMwjn6.js";import{y as d,L as E}from"./ReactToastify-KotilGaM.js";import"./index-BVB0vcGq.js";import"./index-B7oQHXnP.js";import"./index-DYcKATcv.js";import"./index-BQlWczXX.js";import"./app-logo-icon-DMFLlZgW.js";import"./index-CliozYHi.js";function $({user:t,flash:r}){const{data:i,setData:l,patch:c,processing:p,errors:a}=j({first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",role:t.role||"staff",password:"",password_confirmation:""});u.useEffect(()=>{r!=null&&r.success&&d.success(r.success),r!=null&&r.error&&d.error(r.error)},[r]);const x=s=>{s.preventDefault(),c(route("users.update",t.id),{onSuccess:()=>{d.success("User updated successfully")},onError:()=>{d.error("Failed to update user")}})};return e.jsxs(f,{breadcrumbs:[{title:"Manage Users",href:"/users/manage"},{title:"Edit User",href:`/users/${t.id}/edit`}],children:[e.jsx(h,{title:"Edit User"}),e.jsx(E,{position:"top-right"}),e.jsx("div",{className:"container mx-auto p-6 select-none",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(g,{children:[e.jsx(_,{children:e.jsx(N,{children:"Edit User"})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"first_name",children:"First Name"}),e.jsx(o,{id:"first_name",value:i.first_name,onChange:s=>l("first_name",s.target.value)}),a.first_name&&e.jsx("p",{className:"text-sm text-red-500",children:a.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"last_name",children:"Last Name"}),e.jsx(o,{id:"last_name",value:i.last_name,onChange:s=>l("last_name",s.target.value)}),a.last_name&&e.jsx("p",{className:"text-sm text-red-500",children:a.last_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:i.email,onChange:s=>l("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role",children:"Role"}),e.jsxs(y,{value:i.role,onValueChange:s=>l("role",s),children:[e.jsx(C,{children:e.jsx(S,{placeholder:"Select a role"})}),e.jsxs(b,{children:[e.jsx(m,{value:"manager",children:"Manager"}),e.jsx(m,{value:"staff",children:"Staff"})]})]}),a.role&&e.jsx("p",{className:"text-sm text-red-500",children:a.role})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"password",children:["Password ",e.jsx("span",{className:"text-gray-500 text-sm",children:"(leave blank to keep current)"})]}),e.jsx(o,{id:"password",type:"password",value:i.password,onChange:s=>l("password",s.target.value)}),a.password&&e.jsx("p",{className:"text-sm text-red-500",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(o,{id:"password_confirmation",type:"password",value:i.password_confirmation,onChange:s=>l("password_confirmation",s.target.value)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{type:"submit",disabled:p,children:"Update User"})})]})})]})})})]})}export{$ as default};
